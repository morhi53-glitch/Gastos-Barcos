<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gastos de Barcos</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#1e5f7a" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <h1>ğŸŒŠ Gastos de Barcos</h1>
  </header>

  <main>
    <section id="boat-selector">
      <label for="boat">Selecciona un barco:</label>
      <select id="boat">
        <option value="Punta MartiÃ±o">Punta MartiÃ±o</option>
        <option value="Praia Canelas">Praia Canelas</option>
        <option value="Thamira">Thamira</option>
      </select>
    </section>

    <section id="expense-form">
      <h2>Agregar gasto</h2>
      <form id="form">
        <input type="text" id="description" placeholder="DescripciÃ³n" required />
        <input type="number" id="amount" placeholder="Monto" step="0.01" required />
        <select id="category" required>
          <option value="">â€” CategorÃ­a â€”</option>
          <option value="Combustible">Combustible</option>
          <option value="Mantenimiento">Mantenimiento</option>
          <option value="Amarre">Amarre</option>
          <option value="Provisiones">Provisiones</option>
          <option value="Otros">Otros</option>
        </select>
        <input type="date" id="date" required />
        <button type="submit">AÃ±adir</button>
      </form>
    </section>

    <section id="chart-container">
      <h2>ğŸ“Š DistribuciÃ³n por categorÃ­as</h2>
      <canvas id="expenseChart" height="200"></canvas>
    </section>

    <section id="expenses-list">
      <h2>Gastos registrados</h2>
      <div id="list"></div>
    </section>

    <section id="actions">
      <button id="export">ğŸ“¤ Exportar</button>
      <button id="import">ğŸ“¥ Importar</button>
    </section>
  </main>

  <!-- Modales para iPhone -->
  <div id="exportModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:1000; padding:20px; box-sizing:border-box;">
    <div style="background:white; padding:20px; border-radius:12px; max-width:600px; margin:40px auto; max-height:80vh; overflow:auto;">
      <h3>ğŸ“¤ Copia estos datos</h3>
      <p style="font-size:0.9em; color:#666;">PÃ©galo en Notas, Archivos o envÃ­alo por correo para respaldarlo.</p>
      <textarea id="exportData" rows="10" style="width:100%; padding:10px; margin:10px 0; border:1px solid #ccc; border-radius:6px; font-family:monospace; font-size:14px;"></textarea>
      <button id="copyBtn" style="background:#1e5f7a; color:white; border:none; padding:10px 16px; border-radius:6px; cursor:pointer;">ğŸ“‹ Copiar al portapapeles</button>
      <button id="closeExport" style="background:#ccc; margin-left:10px; border:none; padding:10px 16px; border-radius:6px; cursor:pointer;">Cerrar</button>
    </div>
  </div>

  <div id="importModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:1000; padding:20px; box-sizing:border-box;">
    <div style="background:white; padding:20px; border-radius:12px; max-width:600px; margin:40px auto; max-height:80vh; overflow:auto;">
      <h3>ğŸ“¥ Pega tus datos aquÃ­</h3>
      <p style="font-size:0.9em; color:#666;">Copia el texto que exportaste antes y pÃ©galo aquÃ­.</p>
      <textarea id="importData" rows="10" style="width:100%; padding:10px; margin:10px 0; border:1px solid #ccc; border-radius:6px; font-family:monospace; font-size:14px;"></textarea>
      <button id="pasteImportBtn" style="background:#1e5f7a; color:white; border:none; padding:10px 16px; border-radius:6px; cursor:pointer;">âœ… Importar</button>
      <button id="closeImport" style="background:#ccc; margin-left:10px; border:none; padding:10px 16px; border-radius:6px; cursor:pointer;">Cerrar</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
